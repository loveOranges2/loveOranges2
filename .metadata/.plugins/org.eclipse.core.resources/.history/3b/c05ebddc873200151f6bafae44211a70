<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD//EN" 
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
	<class name="edu.gatech.i3l.fhir.dstu2.entities.ConditionOccurrence" table="condition_occurrence">
		<id name="id" column="condition_occurrence_id" type="long">
			<generator class="identity" />
		</id>
		<many-to-one name="person" class="edu.gatech.i3l.fhir.dstu2.entities.Person">
			<column name="person_id"/>
		</many-to-one>
		<many-to-one name="conditionConcept" class="edu.gatech.i3l.fhir.dstu2.entities.Concept">
			<column name="condition_concept_id"/>
		</many-to-one>	
		<property name="startDate" type="date" not-null="true" column="condition_start_date"/>
		<property name="endDate" type="date" column="condition_end_date"/>
		<many-to-one name="conditionTypeConcept" class="edu.gatech.i3l.fhir.dstu2.entities.Concept">
			<column name="condition_type_concept_id"/>
		</many-to-one>
		<property name="stopReason" type="string" column="stop_reason"/>
		<many-to-one name="provider" class="edu.gatech.i3l.fhir.dstu2.entities.Provider">
		    <column name="associated_provider_id"/>
		</many-to-one>
		<many-to-one name="encounter" class="edu.gatech.i3l.fhir.dstu2.entities.VisitOccurrence">
		    <column name="visit_occurrence_id"/>
		</many-to-one>
		<property name="sourceValue" type="string" column="condition_source_value"/>
		
		<joined-subclass name="edu.gatech.i3l.fhir.dstu2.entities.ConditionOccurrenceComplement" table="f_condition_occurrence">
			<key column="condition_occurrence_id" />
			<property name="statusCode" type="string" column="fhir_condition_status_code"/>
			<property name="display" type="string" column="fhir_condition_display"/>
			<many-to-one name="severityConcept" class="edu.gatech.i3l.fhir.dstu2.entities.Concept">
				<column name="condition_severity_concept_id"/>
			</many-to-one>	
		</joined-subclass>
	</class>
</hibernate-mapping>